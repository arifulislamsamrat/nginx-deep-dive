# Load Balancing to Multiple Servers  Bangla

এই ভিডিওতে, আমরা দেখবো কিভাবে NGINX কে রিভার্স প্রক্সি হিসাবে ব্যবহার করে মাল্টিপল অ্যাপ্লিকেশন সার্ভারে লোড ব্যালান্স করা যায়। এটি কাজের হতে পারে যদি সার্ভারগুলি একই মেশিনে থাকে বা আলাদা মেশিনে divide করা থাকে। ট্রাফিক ব্যালান্স করে, আপনি আপনার অ্যাপ্লিকেশনের স্কেলিবিলিটি এবং নির্ভরযোগ্যতা উন্নত করতে পারেন।

**লক্ষ্য:**

- NGINX ব্যবহার করে মাল্টিপল অ্যাপ্লিকেশন সার্ভারের মধ্যে ট্রাফিক বিতরণ করা।
- একই ফিজিক্যাল সার্ভারে চলমান ইনস্ট্যান্সের সাথে প্রক্রিয়াটি প্রদর্শন করা।

**সেটআপ:**

1. **মাল্টিপল ইনস্ট্যান্স তৈরি:**
    - বিদ্যমান অ্যাপ্লিকেশনটি ডুপ্লিকেট করে মাল্টিপল ইনস্ট্যান্স তৈরি করুন।
    - উদাহরণস্বরূপ, `cp` কমান্ড ব্যবহার করে ওয়েব ক্লায়েন্ট অ্যাপ্লিকেশনের কপি তৈরি করুন:
        
        ```
        cp -r web-client web-client2
        cp -r web-client web-client3
        
        ```
        
2. **পোর্ট পরিবর্তন:**
    - প্রতিটি ইনস্ট্যান্সের জন্য পোর্ট নম্বর পরিবর্তন করুন যাতে সংঘর্ষ না হয়।
    - `web-client2` এর জন্য, পোর্ট 3100 সেট করুন:
        
        ```
        environment PORT=3100
        
        ```
        
    - `web-client3` এর জন্য, পোর্ট 3101 সেট করুন:
        
        ```
        environment PORT=3101
        
        ```
        
3. **সার্ভিস শুরু এবং সক্রিয় করুন:**
    - নতুন তৈরি সার্ভিসগুলি শুরু করুন এবং নিশ্চিত করুন যে তারা সঠিকভাবে চলছে।

**NGINX কনফিগারেশন:**

1. **আপস্ট্রিম সার্ভারগুলি নির্ধারণ করুন:**
    - NGINX এ `upstream` ডিরেক্টিভ ব্যবহার করে একটি সার্ভার পুল তৈরি করুন:
        
        ```
        upstream photos {
            server 127.0.0.1:3000;
            server 127.0.0.1:3100;
            server 127.0.0.1:3101;
        }
        
        ```
        
2. **প্রক্সি পাস পরিবর্তন করুন:**
    - `proxy_pass` ডিরেক্টিভ আপডেট করে আপস্ট্রিম সার্ভার গ্রুপ ব্যবহার করুন:
        
        ```
        server {
            location / {
                proxy_pass <http://photos>;
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
            }
        }
        
        ```
        
3. **NGINX রিলোড করুন:**
    - নতুন কনফিগারেশন প্রয়োগ করতে NGINX রিলোড করুন:
        
        ```
        systemctl reload nginx
        
        ```
        

**লোড ব্যালান্সিং পরীক্ষা:**

- `curl` ব্যবহার করে মাল্টিপল রিকোয়েস্ট পাঠান এবং কিভাবে তারা বিতরণ করা হয় তা পর্যবেক্ষণ করুন:
    
    ```
    curl -H "Host: photos.example.com" <http://localhost>
    curl -H "Host: photos.example.com" <http://localhost>
    
    ```
    

**পর্যবেক্ষণ:**

- প্রতিটি ওয়েব ক্লায়েন্ট ইনস্ট্যান্সের লগ বা স্ট্যাটাস পরীক্ষা করুন কিভাবে রিকোয়েস্ট বিতরণ করা হয়।
- NGINX ডিফল্টভাবে একটি রাউন্ড-রবিন পদ্ধতি ব্যবহার করে, সার্ভারগুলির মধ্যে ধারাবাহিকভাবে রিকোয়েস্ট বিতরণ করে।

এই সেটআপটি NGINX কে মাল্টিপল সার্ভারের মধ্যে ট্রাফিক বিতরণ করতে দেয়, স্কেলিবিলিটি উন্নত করে।নির্দিষ্ট প্রয়োজনের উপর ভিত্তি করে লোড ব্যালান্সিং পদ্ধতিগুলির (যেমন লিস্ট কানেকশন, আইপি হ্যাশ) আরও কাস্টমাইজেশন করা যেতে পারে।