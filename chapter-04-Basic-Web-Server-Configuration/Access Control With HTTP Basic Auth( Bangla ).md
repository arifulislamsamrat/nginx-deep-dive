# Access Control With HTTP Basic Auth( Bangla )

এই ভিডিওতে, আমরা দেখব কীভাবে একটি ভার্চুয়াল সার্ভারে নির্দিষ্ট পাথ অনুযায়ী বিভিন্ন কাজ করতে পারি। বিশেষভাবে, আমরা এমন একটি পাথ সেট আপ করব যা অ্যাক্সেস করতে HTTP বেসিক অথেনটিকেশন প্রয়োজন হবে।

শুরু করার জন্য, আমরা শিখব কীভাবে বিভিন্ন পাথ আলাদাভাবে হ্যান্ডেল করতে হয়। এটি করার জন্য আমরা আবারও কোর মডিউলে যাব এবং আগের **`error_page`** এর পরিবর্তে **`location`** অপশন ব্যবহার করব। **`location`** ডিরেকটিভ আমাদের নির্দিষ্ট কনফিগারেশন ব্লক তৈরি করতে দেয় যা মিল করা URI পাওয়া গেলে কার্যকর হবে, এবং URI বিভিন্ন উপায়ে নির্দিষ্ট করা যেতে পারে। এটি সঠিক ম্যাচ হতে পারে **`=`** চিহ্ন ব্যবহার করে, অথবা বিভিন্ন regular এক্সপ্রেশন ভিত্তিক ম্যাচ হতে পারে। এটি একটি কনটেক্সট, তাই এতে  নেস্টেড কনফিগারেশন রাখা যেতে পারে, এবং এটি সার্ভার বা অন্য **`location`** ব্লকের ভিতরে থাকতে পারে।

এই উদাহরণে, আমরা চাই কেউ যদি **`/admin.html`** এ যায়, তাহলে তারা লগইন করতে বাধ্য হবে কনটেন্ট দেখতে। প্রথমে আমরা আমাদের **`location`** ব্লক সেট আপ করব এবং তারপর অথেনটিকেশন সামলাব। আমরা **`conf.d`** তে ফিরে যাব এবং **`default.conf`** খুলব। আমি পছন্দ করি যে ত্রুটি পৃষ্ঠাগুলো কনফিগারেশনের শেষে রাখা হোক, তাই আমরা **`location`** ব্লকটি উপরে রাখব।

আমরা **`=`** ব্যবহার করব কারণ আমরা চাই এটি সঠিক ম্যাচ হোক। যদি এটি সঠিকভাবে **`/admin.html`** এ মিলে যায়, তাহলে এটি এই নির্দিষ্ট ব্লকে পড়বে। বেসিক অথেনটিকেশন অংশটি একটি ভিন্ন মডিউলে পাওয়া যাবে যা আমরা আগে কাজ করছিলাম না।

শুরুতে, আমরা আমাদের **`conf.d`** ফোল্ডারে গিয়ে **`default.conf`** ফাইলটি খুলব। আমি সাধারণত ত্রুটি পৃষ্ঠাগুলি কনফিগারেশনের শেষে রাখতে পছন্দ করি, কিন্তু এই ক্ষেত্রে আমরা **`location`** ব্লকটি উপরে রাখব। আমরা **`location`** ডিরেকটিভটি ব্যবহার করব এবং **`=`** চিহ্ন দিয়ে নিশ্চিত করব যে এটি সঠিক ম্যাচ হয়। যদি এটি সঠিকভাবে **`/admin.html`** এর সাথে মিলে যায়, তবে এটি এই নির্দিষ্ট **`location`** ব্লকে প্রবেশ করবে।

```bash
location = /admin.html {
    auth_basic "Login Required";
    auth_basic_user_file /etc/nginx/.htpasswd;
}
```

বেসিক অথেনটিকেশন অংশটি অন্য একটি মডিউলে পাওয়া যাবে। আমরা ডকুমেন্টেশন থেকে **`auth_basic`** এবং **`auth_basic_user_file`** ডিরেকটিভগুলো ব্যবহার করব। **`auth_basic`** ডিরেকটিভটি ব্যবহার করে আমরা একটি বার্তা প্রদর্শন করব যেমন "Login Required", এবং **`auth_basic_user_file`** ডিরেকটিভটি ব্যবহার করে একটি ফাইলের পাথ নির্দিষ্ট করব যেখানে ব্যবহারকারীর নাম এবং এনক্রিপ্টেড পাসওয়ার্ড সংরক্ষিত থাকবে।

এখন আমরা **`htpasswd`** টুলটি ব্যবহার করে একটি পাসওয়ার্ড ফাইল তৈরি করব। এই টুলটি ডিফল্টভাবে ইনস্টল করা থাকে না, তাই আমরা **`yum install -y httpd-tools`** কমান্ডটি ব্যবহার করে এটি ইনস্টল করব (উবুন্টু বা ডেবিয়ান সিস্টেমের জন্য এটি **`apache2-utils`** প্যাকেজ হবে)।

এরপর আমরা **`htpasswd`** কমান্ডটি ব্যবহার করে পাসওয়ার্ড ফাইল তৈরি করব:

```bash
htpasswd -c /etc/nginx/.htpasswd admin
```

এটি আমাদের **`admin`** ব্যবহারকারীর জন্য পাসওয়ার্ড জিজ্ঞাসা করবে। আমরা পাসওয়ার্ড হিসেবে **`password`** ব্যবহার করব। এখন আমাদের সমস্ত ফাইল তৈরি হয়ে গেছে। আমরা নিশ্চিত করব যে আমাদের কনফিগারেশন সঠিক আছে:

```bash
sudo nginx -t
```

এটি কোনো ত্রুটি দেখাবে না। এখন আমরা আমাদের কনফিগারেশন পুনরায় লোড করব:

```bash

sudo systemctl reload nginx

```

এখন, আমরা **`curl`** কমান্ড ব্যবহার করে পরীক্ষা করব:

```bash
curl -u admin:password http://localhost/admin.html
```

এটি আমাদের দেখাবে যে **`admin.html`** পৃষ্ঠা প্রদর্শিত হচ্ছে। ব্রাউজারে গেলে এটি আপনাকে লগইন প্রম্পট দেখাবে যেখানে আপনি **`admin`** এবং **`password`** প্রবেশ করিয়ে পৃষ্ঠাটি দেখতে পারবেন।

অবশেষে, আমরা আমাদের **`default.conf`** ফাইলে এই কনফিগারেশনটি পুনর্বিবেচনা করব। এটি মূলত **`location`** ব্লকের মধ্যে করা হয়েছে, যেখানে আমরা নির্দিষ্ট করেছি যে কেউ যদি এই নির্দিষ্ট পাথে যায়, তাহলে তাদের লগইন করতে হবে **`auth_basic`** এবং **`auth_basic_user_file`** ব্যবহার করে, যা আমরা **`htpasswd`** টুলটি ব্যবহার করে তৈরি করেছি। অন্য কোনো পাথে গেলে এটি স্বাভাবিকভাবেই কাজ করবে কারণ সেটি মূল থেকে সার্ভ করা হবে।