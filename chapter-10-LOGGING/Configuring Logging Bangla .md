# Configuring Logging Bangla

আমরা NGINX লগিং-এর গভীরে যাব। আমরা কভার করব কীভাবে অ্যাক্সেস লগিং কাজ করে, কীভাবে লগ ফরম্যাটগুলি কাস্টমাইজ করা যায়, এবং কীভাবে এরর লগিং কাজ করে। শুরুতে, আমরা `/etc/nginx/nginx.conf` ফাইলটি দেখব, যা লগিং সম্পর্কিত ডিরেক্টিভসমূহ অন্তর্ভুক্ত করে। এই ডিরেক্টিভগুলি বোঝার মাধ্যমে আমরা লগগুলি ভালভাবে পরিচালনা এবং ব্যবহার করতে পারব মনিটরিং এবং সমস্যা সমাধানের জন্য।

### অ্যাক্সেস লগিং এবং লগ ফরম্যাট

NGINX-এ অ্যাক্সেস লগিং HTTP লগ মডিউলের মাধ্যমে পরিচালিত হয়, যা ডিরেক্টিভগুলির অন্তর্ভুক্ত, যেমন `log_format` এবং `access_log`।

1. **লগ ফরম্যাট**:
    - `log_format` ডিরেক্টিভটি আমাদেরকে অ্যাক্সেস লগগুলির জন্য নামকৃত ফরম্যাটগুলি তৈরি করতে দেয়।
    - উদাহরণস্বরূপ:
        
        ```bash
        log_format compression '$remote_addr - $remote_user [$time_local] '
                               '"$request" $status $body_bytes_sent '
                               '"$http_referer" "$http_user_agent" "$gzip_ratio"';
        ```
        
    - এই উদাহরণে, `compression` হল ফরম্যাটের নাম, এবং স্ট্রিংটি লগ এন্ট্রি ফরম্যাটটি নির্ধারণ করে।
2. **অ্যাক্সেস লগের সাথে লগ ফরম্যাট ব্যবহার**:
    - একটি লগ ফরম্যাট প্রয়োগ করতে, `access_log` ডিরেক্টিভটি ব্যবহার করুন:
        
        ```bash
        access_log /var/log/nginx/access.log compression;
        ```
        
    - যদি আপনি অন্যান্য কনফিগারেশনে `combined` ফরম্যাটটি দেখেন, জানবেন এটি একটি পূর্বনির্ধারিত ফরম্যাট যা NGINX-এ অন্তর্ভুক্ত থাকে, যা Apache এর লগ ফরম্যাটের সাথে সামঞ্জস্যপূর্ণ।

### এরর লগিং

NGINX-এ এরর লগিং অ্যাক্সেস লগিংয়ের তুলনায় সহজ। এটি একটি ফাইল এবং একটি লগিং লেভেল নির্দিষ্ট করার মাধ্যমে কাজ করে:

1. **এরর লগ ডিরেক্টিভ**:
    - এরর লগিংয়ের জন্য ডিরেক্টিভটি এরকম:
        
        ```bash
        error_log /var/log/nginx/error.log warn;
        ```
        
    - লগিং লেভেল `debug` থেকে `emerge` পর্যন্ত বিভিন্ন হতে পারে।
2. **লগিং লেভেল**:
    - `debug`, `info`, `notice`, `warn`, `error`, `crit`, `alert`, `emerge`।
    - একটি লগিং লেভেল নির্বাচন করে নির্ধারণ করা হয় কোন লগ এন্ট্রিগুলি রেকর্ড করা হবে। উদাহরণস্বরূপ, `error` সেট করা থাকলে শুধুমাত্র `error` এবং এর থেকে গুরুতর এন্ট্রিগুলি রেকর্ড করা হবে।

### কাস্টম লগ ফরম্যাট সংজ্ঞায়িত করা

লগগুলি আরও তথ্যপূর্ণ করতে, আপনি আপনার কাস্টম লগ ফরম্যাট সংজ্ঞায়িত করতে পারেন:

1. **কাস্টম লগ ফরম্যাট তৈরি করা**:
    - `nginx.conf` ফাইলে কাস্টম লগ ফরম্যাটটি সংজ্ঞায়িত করুন:
        
        ```bash
        log_format vhost '$host $remote_addr - $remote_user [$time_local] '
                         '"$request" $status $body_bytes_sent '
                         '"$http_referer" "$http_user_agent"';
        ```
        
2. **কাস্টম লগ ফরম্যাট প্রয়োগ করা**:
    - আপনার সার্ভার কনফিগারেশনে কাস্টম ফরম্যাটটি ব্যবহার করুন:
        
        ```bash
        access_log /var/log/nginx/access.log vhost;
        ```
        
3. **কনফিগারেশন পরীক্ষা করা**:
    - পরিবর্তনগুলি প্রয়োগ করতে এবং পরীক্ষার জন্য NGINX রিলোড করুন:
        
        ```bash
        systemctl reload nginx
        curl -H "Host: notes.example.com" <http://localhost/>
        ```
        
4. **লগগুলি যাচাই করা**:
    - অ্যাক্সেস লগটি পরীক্ষা করুন এবং দেখুন এন্ট্রিগুলি নতুন ফরম্যাটে রয়েছে কিনা:
        
        ```bash
        less /var/log/nginx/access.log
        ```
        

### লগিংয়ের জন্য Syslog ব্যবহার

অনেক ডিপ্লয়মেন্টে, লগগুলি একটি কেন্দ্রিয় লগিং সার্ভারে পাঠানো হয় syslog ব্যবহার করে:

1. **অ্যাক্সেস লগের জন্য Syslog কনফিগার করা**:
    - `access_log` ডিরেক্টিভটি পরিবর্তন করুন syslog ব্যবহার করতে:
        
        ```bash
        access_log syslog:server=unix:/dev/log vhost;
        ```
        
2. **Syslog প্যারামিটারগুলি**:
    - Syslog এ অতিরিক্ত প্যারামিটারগুলি পাস করা যেতে পারে একটি কী-ভ্যালু সিনট্যাক্স ব্যবহার করে যা কমা দ্বারা পৃথক হয়।
3. **Syslog এন্ট্রি দেখা**:
    - CentOS-এ, syslog এন্ট্রিগুলি `/var/log/messages`এ পরীক্ষা করুন:
        
        ```bash
        less /var/log/messages
        ```
        

এই ভিডিওতে, আমরা NGINX লগিং-এর গভীরে গিয়েছি। আমরা কভার করেছি কীভাবে কাস্টম লগ ফরম্যাট সংজ্ঞায়িত করা যায়, কীভাবে অ্যাক্সেস এবং এরর লগগুলি কনফিগার করা যায়, এবং কীভাবে syslog ব্যবহার করা যায় লগিংয়ের জন্য। এই লগিং কনফিগারেশনগুলি বোঝা এবং কাস্টমাইজ করা আপনাকে আপনার NGINX সার্ভারগুলি কার্যকরভাবে মনিটর এবং ট্রাবলশুট করতে সাহায্য করতে পারে।